#------------------------------------------------------------------------------
# datos
#------------------------------------------------------------------------------
#----------------------------------------------------------
# tabla 3.2
#----------------------------------------------------------
data_table_3_2 <- read.table(
text="
person   y    x    x_q   xy   z
1        2    8     64   16   1
2        3    9     81   27   2
3        3    9     81   27   1
4        4   10    100   40   2
5        7    6     36   42   1
6        5    7     49   35   2
7        5    4     16   20   1
8        7    5     25   35   2
9        8    3      9   24   1
10       9    1      1    9   2
11       9    2      4   18   1
12      10    2      4   20   2
",
header=TRUE, stringsAsFactors = FALSE)
# Nota: agregamos a la variable z,
#       para ilustrar como se ve un
#       modelo que no explica a y.
#----------------------------------------------------------
# preparar datos
#----------------------------------------------------------
library(dplyr)
data_model <- data_table_3_2 %>%
              mutate(x_g = mean(x, na.rm = TRUE)) %>%
              mutate(x_cgm = x - x_g) %>%
              dplyr::select(y, x, x_cgm, z)
#----------------------------------------------------------
# correlación base::cor
#----------------------------------------------------------
cor(data_model$y, data_model$x)
#----------------------------------------------------------
# correlación base::cor.test
#----------------------------------------------------------
cor.test(data_model$y, data_model$x)